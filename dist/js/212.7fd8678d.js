"use strict";(self["webpackChunkexamen_front"]=self["webpackChunkexamen_front"]||[]).push([[212],{212:function(s,o,r){r.r(o),r.d(o,{default:function(){return D}});var a=r(252);const e={class:"registro"};function t(s,o,r,t,u,i){const n=(0,a.up)("FormularioRegistro");return(0,a.wg)(),(0,a.iD)("div",e,[(0,a.Wm)(n)])}var u=r(963);const i={class:"container"},n={class:"m-4 p-4"},l={class:"row mt-4"},c=(0,a._)("label",null,"Usuario (debe ser un email)",-1),p={class:"row mt-4"},m=(0,a._)("label",null,"Nombre",-1),d={class:"row mt-4"},f=(0,a._)("label",null,"Password",-1),h={class:"row mt-4"},w=(0,a._)("label",null,"Password",-1),_={class:"row mt-4 col-3 offset-6"},g=(0,a.Uk)(" si ya eres un usuario has "),v=(0,a.Uk)("login");function y(s,o,r,e,t,y){const b=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("form",n,[(0,a._)("div",l,[c,(0,a.wy)((0,a._)("input",{type:"email",ref:"user","onUpdate:modelValue":o[0]||(o[0]=s=>t.usuario.user=s),class:"from-control col-6 offset-3"},null,512),[[u.nr,t.usuario.user]])]),(0,a._)("div",p,[m,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>t.usuario.name=s),class:"from-control col-6 offset-3"},null,512),[[u.nr,t.usuario.name]])]),(0,a._)("div",d,[f,(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=s=>t.usuario.pass=s),class:"from-control col-6 offset-3"},null,512),[[u.nr,t.usuario.pass]])]),(0,a._)("div",h,[w,(0,a.wy)((0,a._)("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=s=>t.usuario.pass2=s),class:"from-control col-6 offset-3"},null,512),[[u.nr,t.usuario.pass2]])]),(0,a._)("div",_,[(0,a._)("button",{class:"btn btn-primary",onClick:o[4]||(o[4]=(...s)=>y.nuevoUsuario&&y.nuevoUsuario(...s))},"Registrarse")])]),(0,a._)("p",null,[g,(0,a.Wm)(b,{to:"/login"},{default:(0,a.w5)((()=>[v])),_:1})])])}var b={name:"FormularioRegistro",data(){return{usuario:{user:"",name:"",pass:"",pass2:""}}},methods:{async nuevoUsuario(){try{if(this.usuario.pass!==this.usuario.pass2){let s={error:"password no coinciden"};throw s}let s=await fetch("https://api-mascotas-jorge.herokuapp.com/api/registro",{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({nombre:this.usuario.name,user:this.usuario.user,pass:this.usuario.pass})});if(200!=s.status)throw"problemas al registrar usuario";this.resetData(),this.$router.push("/login")}catch(s){console.log(s)}},resetData(){this.usuario.name="",this.usuario.user="",this.usuario.pass="",this.usuario.pass2=""}}},U=r(744);const k=(0,U.Z)(b,[["render",y]]);var R=k,V={name:"RegistroView",components:{FormularioRegistro:R}};const C=(0,U.Z)(V,[["render",t]]);var D=C}}]);
//# sourceMappingURL=212.7fd8678d.js.map